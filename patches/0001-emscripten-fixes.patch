diff --git a/configure b/configure
index 0000000..1111111 100755
--- a/configure
+++ b/configure
@@ -1,5 +1,19 @@
 #!/bin/sh
 # This script is generated by the QEMU configure script
 
+# EMSCRIPTEN: Force riscv64-softmmu and disable incompatible features
+if echo "$CC" | grep -q emcc || echo "$CXX" | grep -q em++; then
+    echo "Emscripten: forcing riscv64-softmmu"
+    target_list="riscv64-softmmu $target_list"
+    pie="no"
+    kvm="no"
+    xen="no"
+    hax="no"
+    hvf="no"
+    whpx="no"
+    nvmm="no"
+    linux_user="no"
+    bsd_user="no"
+    guest_agent="no"
+fi
+
 # Default configuration
 softmmu="yes"
 linux_user="yes"
