diff --git a/glib-compat.c b/glib-compat.c
index abcdef1..fedcba9 100644
--- a/glib-compat.c
+++ b/glib-compat.c
@@ -10,6 +10,10 @@
 #include <glib.h>
 #endif
 
+#ifdef __EMSCRIPTEN__
+#define g_thread_init(x) do {} while(0)
+#endif
+
 void qemu_glib_init(void)
 {
     g_thread_init(NULL);
