diff --git a/util/glib-compat.c b/util/glib-compat.c
index a1b2c3d..f6g7h8i 100644
--- a/util/glib-compat.c
+++ b/util/glib-compat.c
@@ -1,6 +1,12 @@
 #include "qemu/osdep.h"
 #include "qemu/glib-compat.h"
 
+#ifdef __EMSCRIPTEN__
+/* Emscripten has no real threads yet; avoid g_thread_init() */
+#define g_thread_supported() (1)
+#define g_thread_init(x) do { } while (0)
+#endif
+
 void qemu_init_main_loop(void)
 {
     if (!g_thread_supported()) {
